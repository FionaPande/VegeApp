{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/pandemona/Documents/From Backup/Vegaani_Application/ReactApplication/vegancos/screens/user/ShowSuggestion.js\";\n\nimport React, { useState, useEffect } from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport axios from 'axios';\nimport firebase from 'firebase';\nimport Card from \"../../components/Card\";\nimport { CheckBox } from 'react-native-elements';\nimport Colors from \"../../constants/Colors\";\nimport { Icon } from 'react-native-elements';\n\nvar Suggestions = function Suggestions(props) {\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      hasError = _useState2[0],\n      setErrors = _useState2[1];\n\n  var _useState3 = useState(''),\n      _useState4 = _slicedToArray(_useState3, 2),\n      someError = _useState4[0],\n      setSomeErrors = _useState4[1];\n\n  var _useState5 = useState([]),\n      _useState6 = _slicedToArray(_useState5, 2),\n      myFilter = _useState6[0],\n      setMyFilter = _useState6[1];\n\n  var _useState7 = useState(false),\n      _useState8 = _slicedToArray(_useState7, 2),\n      userID = _useState8[0],\n      setUserID = _useState8[1];\n\n  var _useState9 = useState([]),\n      _useState10 = _slicedToArray(_useState9, 2),\n      data = _useState10[0],\n      setData = _useState10[1];\n\n  var _useState11 = useState(true),\n      _useState12 = _slicedToArray(_useState11, 2),\n      isLoading = _useState12[0],\n      setLoading = _useState12[1];\n\n  var _useState13 = useState(true),\n      _useState14 = _slicedToArray(_useState13, 2),\n      checked = _useState14[0],\n      setChecked = _useState14[1];\n\n  var _useState15 = useState(false),\n      _useState16 = _slicedToArray(_useState15, 2),\n      unchecked = _useState16[0],\n      setUnchecked = _useState16[1];\n\n  var user = firebase.auth().currentUser;\n  var name, uid;\n\n  function fetchData() {\n    return _regeneratorRuntime.async(function fetchData$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            if (user != null) {\n              name = user.displayName;\n              uid = user.uid;\n              setUserID(true);\n            }\n\n          case 1:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  }\n\n  function fetchSuggestions() {\n    var res, _data, filterArray;\n\n    return _regeneratorRuntime.async(function fetchSuggestions$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            res = null;\n            _context2.prev = 1;\n            _context2.next = 4;\n            return _regeneratorRuntime.awrap(fetch(\"http://127.0.0.1:8000/vegan/suggestions/\"));\n\n          case 4:\n            res = _context2.sent;\n            _context2.next = 10;\n            break;\n\n          case 7:\n            _context2.prev = 7;\n            _context2.t0 = _context2[\"catch\"](1);\n            setErrors(true);\n\n          case 10:\n            _context2.prev = 10;\n            _context2.next = 13;\n            return _regeneratorRuntime.awrap(res.json());\n\n          case 13:\n            _data = _context2.sent;\n            filterArray = _data.filter(function (data) {\n              return data.fields.authorID === uid;\n            });\n            setData(filterArray);\n            _context2.next = 22;\n            break;\n\n          case 18:\n            _context2.prev = 18;\n            _context2.t1 = _context2[\"catch\"](10);\n            setErrors(true);\n            setSomeErrors(\"ERROR: \" + hasError + \" my error \" + _context2.t1);\n\n          case 22:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, [[1, 7], [10, 18]], Promise);\n  }\n\n  useEffect(function () {\n    if (isLoading == true) {\n      setLoading(false);\n      fetchData();\n      fetchSuggestions();\n    }\n\n    setLoading(false);\n  });\n\n  function cell(_ref) {\n    var item = _ref.item;\n    var filterData = global.myData.filter(function (data) {\n      return data.sugg == item.id;\n    });\n    return React.createElement(Card, {\n      style: styles.card,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 3\n      }\n    }, React.createElement(View, {\n      style: styles.myText,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 3\n      }\n    }, React.createElement(Text, {\n      style: styles.row,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 5\n      }\n    }, \"Title : \", item.fields.title), React.createElement(View, {\n      style: styles.column,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 5\n      }\n    }, !filterData.length ? React.createElement(CheckBox, {\n      checked: unchecked,\n      textStyle: styles.text,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 4\n      }\n    }) : React.createElement(CheckBox, {\n      checked: checked,\n      checkedColor: \"purple\",\n      textStyle: styles.text,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 7\n      }\n    }))));\n  }\n\n  if (isLoading == true) {\n    return React.createElement(View, {\n      style: {\n        flex: 1,\n        padding: 20,\n        justifyContent: 'center'\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 5\n      }\n    }, React.createElement(ActivityIndicator, {\n      size: \"large\",\n      color: \"#00ff00\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 7\n      }\n    }));\n  } else if (hasError) {\n    return React.createElement(View, {\n      style: {\n        flex: 1,\n        padding: 20,\n        justifyContent: 'center'\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 5\n      }\n    }, React.createElement(Text, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 7\n      }\n    }, \"You're probably not connected to the internet\"), React.createElement(Text, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 7\n      }\n    }, \"\" + someError));\n  } else {\n    return React.createElement(View, {\n      style: styles.background,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 5\n      }\n    }, React.createElement(View, {\n      style: styles.container,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 5\n      }\n    }, React.createElement(Card, {\n      style: styles.card,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 7\n      }\n    }, React.createElement(Text, {\n      style: styles.suggText,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 9\n      }\n    }, \"Suggestions\"), React.createElement(Text, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 9\n      }\n    }, \" Here you can see your suggestions\")), userID ? React.createElement(FlatList, {\n      data: data,\n      keyExtractor: function keyExtractor(item, data) {\n        return item.id;\n      },\n      renderItem: cell,\n      style: {\n        marginTop: 10\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 7\n      }\n    }) : React.createElement(Card, {\n      style: styles.card,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 11\n      }\n    }, React.createElement(Text, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 9\n      }\n    }, \"Looks like you dont have a user account yet.\"), React.createElement(Button, {\n      onPress: function onPress() {\n        return props.navigation.navigate({\n          routeName: 'SignUp'\n        });\n      },\n      title: \"Learn More\",\n      color: \"#841584\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 9\n      }\n    }))));\n  }\n\n  ;\n};\n\nvar styles = StyleSheet.create({\n  container: {\n    padding: 30,\n    paddingTop: 50,\n    flex: 1,\n    margin: 0\n  },\n  background: {\n    flex: 1,\n    backgroundColor: Colors.background\n  },\n  button: {\n    alignItems: 'center',\n    backgroundColor: '#DDDDDD',\n    padding: 10,\n    width: '100%',\n    marginTop: 16\n  },\n  gradient: {\n    flex: 1\n  },\n  card: {\n    padding: 10,\n    margin: 5\n  },\n  column: {\n    flexDirection: 'column',\n    alignItems: 'flex-end'\n  },\n  myText: {\n    justifyContent: 'space-around',\n    flexDirection: 'column'\n  },\n  text: {\n    fontSize: 10\n  },\n  suggText: {\n    padding: 5,\n    justifyContent: 'center',\n    alignContent: 'center',\n    alignItems: 'center',\n    fontSize: 20,\n    color: 'black',\n    fontWeight: 'bold'\n  }\n});\nexport default Suggestions;","map":{"version":3,"sources":["/Users/pandemona/Documents/From Backup/Vegaani_Application/ReactApplication/vegancos/screens/user/ShowSuggestion.js"],"names":["React","useState","useEffect","axios","firebase","Card","CheckBox","Colors","Icon","Suggestions","props","hasError","setErrors","someError","setSomeErrors","myFilter","setMyFilter","userID","setUserID","data","setData","isLoading","setLoading","checked","setChecked","unchecked","setUnchecked","user","auth","currentUser","name","uid","fetchData","displayName","fetchSuggestions","res","fetch","json","filterArray","filter","fields","authorID","cell","item","filterData","global","myData","sugg","id","styles","card","myText","row","title","column","length","text","flex","padding","justifyContent","background","container","suggText","marginTop","navigation","navigate","routeName","StyleSheet","create","paddingTop","margin","backgroundColor","button","alignItems","width","gradient","flexDirection","fontSize","alignContent","color","fontWeight"],"mappings":"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","sourcesContent":["\nimport React, {useState, useEffect} from 'react';\nimport { StyleSheet, View,  Text,  FlatList, Button, ActivityIndicator } from 'react-native';\nimport axios from 'axios';\nimport firebase from 'firebase';\n\nimport Card from '../../components/Card';\nimport {CheckBox} from 'react-native-elements';\nimport Colors from '../../constants/Colors';\nimport { Icon } from 'react-native-elements';\n\nconst Suggestions = props => {\n  \n    const [hasError, setErrors] = useState(false);\n    const [someError, setSomeErrors] = useState('');\n      const[myFilter, setMyFilter] = useState([]);\n      const [userID, setUserID] = useState(false);\n      const [data, setData] = useState([]);\n      const [isLoading, setLoading] = useState(true);\n      const [checked, setChecked] = useState(true);\n      const [unchecked, setUnchecked] = useState(false);\n      var user = firebase.auth().currentUser;\n      var name, uid;\n  \n    \n      async function fetchData() {\n        if (user != null) {\n          name = user.displayName;\n          uid = user.uid;  \n          setUserID(true);\n        }\n      }\n    \n      async function fetchSuggestions() {\n        let res = null;\n        try {\n          res = await fetch(\"http://127.0.0.1:8000/vegan/suggestions/\");\n        }\n        catch (error) {\n          setErrors(true);\n        }\n        try {\n          const data = await res.json();\n          const filterArray = data.filter(data => data.fields.authorID === uid)\n\n          setData(filterArray);\n          \n           \n       \n        }\n        catch (err) {\n          setErrors(true);\n          setSomeErrors(\"ERROR: \" + hasError + \" my error \" + err);\n        }\n      }\n  \n      useEffect(() => {\n        if (isLoading == true) {\n          setLoading(false);\n          fetchData();\n          fetchSuggestions();\n        \n        }\n        setLoading(false)\n      });\n\n\n\n\n\n  \n\nfunction cell ({item}){\n\n  const filterData=  global.myData.filter(data => data.sugg == item.id)\n  return (\n  <Card style={styles.card}>\n  <View style={styles.myText}>  \n    <Text style={styles.row}>Title : {item.fields.title}</Text>\n    <View style={styles.column}>\n    {!filterData.length ? (\n   <CheckBox\n   checked= {unchecked}\n   textStyle= {styles.text}\n />\n    ): (\n      <CheckBox\n      checked= {checked}\n      checkedColor = 'purple'\n      textStyle= {styles.text}\n    />\n    )}\n</View>\n  </View>\n  </Card>\n  )\n \n}\n\nif (isLoading == true) {\n  // if the data does not get loaded yet, we show an Activity Indicator\n  return (\n    <View style={{ flex: 1, padding: 20, justifyContent: 'center' }}>\n      <ActivityIndicator size=\"large\" color=\"#00ff00\" />\n    </View>\n  );\n}\nelse if (hasError) {\n  return (\n    <View style={{ flex: 1, padding: 20, justifyContent: 'center' }}>\n      <Text>You're probably not connected to the internet</Text>\n      <Text>{\"\" + someError}</Text>\n    </View>\n  );\n}\nelse{\n  return (\n    <View style={styles.background}>\n    <View style={styles.container}>\n      <Card style={styles.card}>\n        <Text style={styles.suggText}>Suggestions</Text>\n        <Text> Here you can see your suggestions</Text>\n        </Card>\n        {userID ? (\n      <FlatList\n        data={data}\n        keyExtractor={(item, data) => { return item.id}}            \n        renderItem={cell  }\n        style={{ marginTop: 10 }} />\n        ): (\n          <Card style={styles.card}>\n        <Text>\n          \n            Looks like you dont have a user account yet.\n        </Text> \n        <Button\n     onPress={() => props.navigation.navigate({\n       routeName: 'SignUp',\n     })}\n       title=\"Learn More\"\n        color=\"#841584\"\n  \n/>\n        </Card>\n        )}\n    </View>\n    </View>\n  \n  );\n};\n}\n\n\nconst styles = StyleSheet.create({\n  container: {\n    padding: 30,\n    paddingTop: 50,\n      flex: 1,\n      margin: 0,\n    },\n    background: {\n      flex: 1,\n      backgroundColor: Colors.background,\n    },\n  button: {\n    alignItems: 'center',\n    backgroundColor: '#DDDDDD',\n    padding: 10,\n    width: '100%',\n    marginTop: 16,\n  },\n  gradient: {\n\t\tflex: 1, \n    },\n    card: {\n\t\t  padding: 10,\n      margin: 5,\n    },\n    column: {\n     flexDirection: 'column',\n      alignItems: 'flex-end'\n    },\n    myText: {\n      justifyContent: 'space-around',\n      flexDirection: 'column',\n    },\n    text: {\n      fontSize: 10,\n    },\n    suggText: {\n      padding: 5,   \n      justifyContent: 'center',\n      alignContent: 'center',\n      alignItems: 'center',\n      fontSize: 20,\n      color: 'black',\n      fontWeight: 'bold',\n    },\n   \n});\n\nexport default Suggestions;"]},"metadata":{},"sourceType":"module"}